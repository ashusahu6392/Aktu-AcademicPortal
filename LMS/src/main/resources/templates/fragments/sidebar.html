<div th:fragment="sidebar" class="sidebar-inner">
    <h6 class="mb-2">Subjects</h6>
    <ul class="list-unstyled subject-list">
        <li th:each="s : ${subjects}">
            <a th:href="@{/student/subject/{code}(code=${s.subjectCode})}"
               th:classappend="${s.subjectCode == selectedSubjectCode} ? 'active' : ''"
               class="subject-link d-flex justify-content-between align-items-center">
                <span th:text="${s.subjectName}"></span>
                <small class="text-muted"> <span th:text="${s.subjectCode}"></span> </small>
            </a>
        </li>
    </ul>

    <div th:if="${units != null and !#lists.isEmpty(units)}" class="mt-4">
        <h6 class="mb-2">Units</h6>
        <ul class="list-unstyled unit-list">
            <li th:each="u : ${units}">
                <a th:href="@{/student/subject/{code}/unit/{unitNo}(code=${selectedSubjectCode},unitNo=${u})}"
                   th:classappend="${u == selectedUnitNo} ? 'active' : ''"
                   class="unit-link">
                    Unit <span th:text="${u}"></span>
                </a>
            </li>
        </ul>
    </div>

    <div th:if="${topics != null and !#lists.isEmpty(topics)}" class="mt-4">
        <h6 class="mb-2">Topics</h6>
        <ul class="list-unstyled topic-list small">
            <li th:each="t : ${topics}">
                <a th:href="@{/student/topic/{id}(id=${t.id})}"
                   th:classappend="${selectedTopic != null and t.id == selectedTopic.id} ? 'active' : ''"
                   class="topic-link d-block text-truncate" th:title="${t.title}">
                    <span th:text="${t.title}"></span>
                </a>
            </li>
        </ul>
    </div>
</div>